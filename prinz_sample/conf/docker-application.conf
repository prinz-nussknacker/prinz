base: { include "base-application.conf" }

environment: "kubernetes"

categoriesConfig {
  "Default": "hermes-model",
}

hermesModelDir: "model"
hermesModelDir: ${?HERMES_MODEL_DIR}

processTypes {
  "hermes-model": {
      engineConfig: ${base.flinkEngineConfig}
      modelConfig: {
        classPath: [${hermesModelDir}"/hermesModel.jar"]
      } ${base.streamingModelConfig}
    }
}

environmentAlert: {
  content: "KUBERNETES ENVIRONMENT"
  cssClass: "indicator-green"
}

metricsSettings: {
  url: ${base.grafanaUrl}"/dashboard/db/$dashboard?theme=dark&var-processName=$process&var-env="${environment}
  defaultDashboard: "flink-esp"
  processingTypeToDashboard: {
    "streaming": "flink-esp"
  }
}

# TODO: lightbend config can't include files on root level - move nussknacker config on nk level and get rid of this below
jdbcServer: ${base.jdbcServer}
db: ${base.db}
akka: ${base.akka}
authentication: ${base.authentication}

commentSettings: ${base.commentSettings}
attachmentsPath: ${base.attachmentsPath}
countsSettings: ${base.countsSettings}
kibanaSettings: ${base.kibanaSettings}

nodes: {
  "$properties": {
    docsUrl: "https://nussknacker.io/DesigningProcesses.html#global-process-properties"
  }
}
